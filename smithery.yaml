# smithery.yaml (프로젝트 루트)
build:
    dockerBuildPath: "."
    install:
        - apt-get update && apt-get install -y tesseract-ocr tesseract-ocr-kor poppler-utils
        - pip install --no-cache-dir -r requirements.txt

startCommand:
    type: http # stdio 가 아닌 HTTP 서버로 실행
    commandFunction:
        command:
            - uvicorn
            - mcp_app.main:app
            - --host
            - "0.0.0.0"
            - --port
            - "8000"

transport:
    type: http
    http:
        # ← 이 부분을 추가해서 "인증 없음" 모드 활성화
        auth:
            type: none

        # 이하 도구 엔드포인트 설정
        toolsList:
            path: "/tools/list"
            method: "POST"
        toolsCall:
            path: "/tools/call"
            method: "POST"
